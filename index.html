<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { text-align: center; font-family: sans-serif; background: #1a1a1a; color: white; margin: 0; overflow: hidden; }
        #game-area { height: 70vh; position: relative; background: #222; overflow: hidden; }
        #ball { 
            position: absolute; width: 60px; height: 60px; 
            background: radial-gradient(circle, #00d2ff, #3a7bd5); 
            border-radius: 50%; cursor: pointer; display: flex; 
            align-items: center; justify-content: center; font-size: 24px;
            user-select: none;
        }
        .btn {
            margin-top: 20px; padding: 15px 30px; background: #28a745; 
            color: white; border: none; border-radius: 10px; font-weight: bold;
            font-size: 18px; cursor: pointer;
        }
    </style>
</head>
<body>
    <h2>–°—á–µ—Ç: <span id="score">0</span></h2>
    <div id="game-area">
        <div id="ball">üéØ</div>
    </div>
    <button class="btn" id="send-data">–°–û–•–†–ê–ù–ò–¢–¨ –í –ë–û–¢–ï</button>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤—Å—ë –æ–∫–Ω–æ

        let score = 0;
        const ball = document.getElementById('ball');
        const scoreDisplay = document.getElementById('score');

        function moveBall() {
            const x = Math.random() * (window.innerWidth - 60);
            const y = Math.random() * (document.getElementById('game-area').offsetHeight - 60);
            ball.style.left = x + 'px';
            ball.style.top = y + 'px';
        }

        ball.onclick = () => {
            score++;
            scoreDisplay.innerText = score;
            moveBall();
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        };

        // –ì–õ–ê–í–ù–ê–Ø –ß–ê–°–¢–¨: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        document.getElementById('send-data').onclick = () => {
            console.log("–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...");
            let dataToSend = JSON.stringify({ score: score });
            tg.sendData(dataToSend); // –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –∏ —à–ª–µ—Ç –¥–∞–Ω–Ω—ã–µ
        };

        moveBall();
    </script>
</body>
</html>
